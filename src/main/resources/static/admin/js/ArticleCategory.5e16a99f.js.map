{"version":3,"sources":["webpack:///./src/views/article/ArticleCategory.vue?86c3","webpack:///src/views/article/ArticleCategory.vue","webpack:///./src/views/article/ArticleCategory.vue?1f54","webpack:///./src/views/article/ArticleCategory.vue","webpack:///./src/views/article/ArticleCategory.vue?d3db","webpack:///./src/api/article.js","webpack:///./src/api/attachment.js","webpack:///./src/api/category.js","webpack:///./src/api/template.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","on","initEdit","_v","$event","updateAll","updateCategoryPos","articleListDrawer","updateArticlePos","staticClass","articles","articleFieldNames","onDropArticle","categorys","fieldNames","onDragEnter","onSelect","onDropCategory","preview","updateId","openHtml","remove","articleListShow","generateHtml","onChange","model","value","categoryParam","callback","$$v","$set","expression","onChangeNav","onChangeHtml","_e","staticStyle","_l","item","key","id","enName","_s","name","upload","headers","handleChange","picPath","handleOk","staticRenderFns","data","columns","form","$form","createForm","parentCategory","templates","articleTemplate","isUpdate","visible","currentTabId","categoryId","order","templateName","viewName","description","articleTemplateName","firstArticle","articleListSize","icon","desc","parentId","children","title","created","loadcategory","computed","attachment","token","localStorage","getItem","Authorization","methods","loadTempalte","template","loadArticleTempalte","category","loadParentCategory","loadArticle","status","info","file","response","path","$message","success","error","message","$notification","edit","recommend","existNav","haveHtml","window","open","openHtmlFirstArticle","onClose","articleVisible","selectedKeys","resp","onDrop","forEach","index","arr","childName","loop","dragKey","splice","dragObj","dropToGap","dropKey","ar","i","dropPosition","push","_this","$confirm","content","okText","okType","cancelText","onOk","more","onCancel","component","baseUrl","articleApi","service","url","method","params","articleId","baseCategoryId","channelId","tagId","attachmentApi","Golbal","port","categoryApi","concreteTree","categories","isLeaf","scopedSlots","listByParent","list","listVoTree","add","updatePos","update","findById","pageBy","categoryEnName","recommendOrCancel","addOrRemoveToMenu","deleteById","findByCategoryDetail","topCategoryNode","templateApi","templatePageParam","type"],"mappings":"0HAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,WAAWC,GAAG,CAAC,MAAQP,EAAIQ,WAAW,CAACR,EAAIS,GAAG,UAAUL,EAAG,WAAW,CAACG,GAAG,CAAC,MAAQ,SAASG,GAAQ,OAAOV,EAAIW,WAAU,MAAU,CAACX,EAAIS,GAAG,gBAAgBL,EAAG,WAAW,CAACG,GAAG,CAAC,MAAQ,SAASG,GAAQ,OAAOV,EAAIW,WAAU,MAAS,CAACX,EAAIS,GAAG,oBAAoBL,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,WAAWC,GAAG,CAAC,MAAQP,EAAIY,oBAAoB,CAACZ,EAAIS,GAAG,UAAUL,EAAG,WAAW,CAACE,MAAM,CAAC,MAAQ,OAAO,UAAY,QAAQ,UAAW,EAAK,QAAUN,EAAIa,kBAAkB,MAAQ,SAASN,GAAG,CAAC,MAAQ,WAAYP,EAAIa,mBAAkB,KAAS,CAACT,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,WAAWC,GAAG,CAAC,MAAQP,EAAIc,mBAAmB,CAACd,EAAIS,GAAG,YAAYL,EAAG,SAAS,CAACW,YAAY,iBAAiBT,MAAM,CAAC,UAAY,GAAG,aAAa,GAAG,YAAYN,EAAIgB,SAAS,iBAAiBhB,EAAIiB,mBAAmBV,GAAG,CAAC,KAAOP,EAAIkB,kBAAkB,GAAGd,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,IAAI,CAACF,EAAG,SAAS,CAACW,YAAY,iBAAiBT,MAAM,CAAC,UAAY,GAAG,aAAa,GAAG,YAAYN,EAAImB,UAAU,iBAAiBnB,EAAIoB,YAAYb,GAAG,CAAC,UAAYP,EAAIqB,YAAY,OAASrB,EAAIsB,SAAS,KAAOtB,EAAIuB,mBAAmB,GAAGnB,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,KAAK,CAAEN,EAAY,SAAEI,EAAG,MAAM,CAACA,EAAG,WAAW,CAACG,GAAG,CAAC,MAAQ,SAASG,GAAQ,OAAOV,EAAIwB,QAAQxB,EAAIyB,aAAa,CAACzB,EAAIS,GAAG,QAAQL,EAAG,WAAW,CAACG,GAAG,CAAC,MAAQ,SAASG,GAAQ,OAAOV,EAAI0B,cAAc,CAAC1B,EAAIS,GAAG,YAAYL,EAAG,WAAW,CAACG,GAAG,CAAC,MAAQ,SAASG,GAAQ,OAAOV,EAAI2B,OAAO3B,EAAIyB,aAAa,CAACzB,EAAIS,GAAG,UAAUL,EAAG,WAAW,CAACG,GAAG,CAAC,MAAQ,SAASG,GAAQ,OAAOV,EAAI4B,gBAAgB5B,EAAIyB,aAAa,CAACzB,EAAIS,GAAG,UAAUL,EAAG,WAAW,CAACG,GAAG,CAAC,MAAQ,SAASG,GAAQ,OAAOV,EAAI6B,aAAa7B,EAAIyB,aAAa,CAACzB,EAAIS,GAAG,YAAYT,EAAIS,GAAG,YAAYL,EAAG,WAAW,CAACE,MAAM,CAAC,eAAiB,IAAIC,GAAG,CAAC,OAAS,SAASG,GAAQ,OAAOV,EAAI8B,SAAS9B,EAAIyB,YAAYM,MAAM,CAACC,MAAOhC,EAAIiC,cAAuB,UAAEC,SAAS,SAAUC,GAAMnC,EAAIoC,KAAKpC,EAAIiC,cAAe,YAAaE,IAAME,WAAW,6BAA6BrC,EAAIS,GAAG,aAAaL,EAAG,WAAW,CAACE,MAAM,CAAC,eAAiB,IAAIC,GAAG,CAAC,OAAS,SAASG,GAAQ,OAAOV,EAAIsC,YAAYtC,EAAIyB,YAAYM,MAAM,CAACC,MAAOhC,EAAIiC,cAAsB,SAAEC,SAAS,SAAUC,GAAMnC,EAAIoC,KAAKpC,EAAIiC,cAAe,WAAYE,IAAME,WAAW,4BAA4BrC,EAAIS,GAAG,cAAcL,EAAG,WAAW,CAACE,MAAM,CAAC,eAAiB,IAAIC,GAAG,CAAC,OAAS,SAASG,GAAQ,OAAOV,EAAIuC,aAAavC,EAAIyB,YAAYM,MAAM,CAACC,MAAOhC,EAAIiC,cAAsB,SAAEC,SAAS,SAAUC,GAAMnC,EAAIoC,KAAKpC,EAAIiC,cAAe,WAAYE,IAAME,WAAW,4BAA4BjC,EAAG,OAAO,GAAGJ,EAAIwC,KAAKpC,EAAG,cAAc,CAACE,MAAM,CAAC,MAAQ,WAAW,CAACF,EAAG,iBAAiB,CAACE,MAAM,CAAC,GAAK,eAAeyB,MAAM,CAACC,MAAOhC,EAAIiC,cAA6B,gBAAEC,SAAS,SAAUC,GAAMnC,EAAIoC,KAAKpC,EAAIiC,cAAe,kBAAmBE,IAAME,WAAW,oCAAoC,GAAGjC,EAAG,WAAW,CAACE,MAAM,CAAC,eAAiB,IAAIyB,MAAM,CAACC,MAAOhC,EAAIiC,cAAkB,KAAEC,SAAS,SAAUC,GAAMnC,EAAIoC,KAAKpC,EAAIiC,cAAe,OAAQE,IAAME,WAAW,wBAAwBjC,EAAG,SAAS,CAACE,MAAM,CAAC,OAAS,eAAe,CAACF,EAAG,cAAc,CAACE,MAAM,CAAC,MAAQ,QAAQ,KAAO,aAAa,CAACF,EAAG,UAAU,CAAC2B,MAAM,CAACC,MAAOhC,EAAIiC,cAAsB,SAAEC,SAAS,SAAUC,GAAMnC,EAAIoC,KAAKpC,EAAIiC,cAAe,WAAYE,IAAME,WAAW,6BAA6B,GAAGjC,EAAG,cAAc,CAACE,MAAM,CAAC,MAAQ,SAAS,CAACF,EAAG,UAAU,CAAC2B,MAAM,CAACC,MAAOhC,EAAIiC,cAAkB,KAAEC,SAAS,SAAUC,GAAMnC,EAAIoC,KAAKpC,EAAIiC,cAAe,OAAQE,IAAME,WAAW,yBAAyB,GAAGjC,EAAG,cAAc,CAACE,MAAM,CAAC,MAAQ,SAAS,CAACF,EAAG,UAAU,CAAC2B,MAAM,CAACC,MAAOhC,EAAIiC,cAAkB,KAAEC,SAAS,SAAUC,GAAMnC,EAAIoC,KAAKpC,EAAIiC,cAAe,OAAQE,IAAME,WAAW,yBAAyB,GAAGjC,EAAG,cAAc,CAACE,MAAM,CAAC,MAAQ,aAAa,CAACF,EAAG,WAAW,CAACqC,YAAY,CAAC,MAAQ,QAAQV,MAAM,CAACC,MAAOhC,EAAIiC,cAA0B,aAAEC,SAAS,SAAUC,GAAMnC,EAAIoC,KAAKpC,EAAIiC,cAAe,eAAgBE,IAAME,WAAW,+BAA+BrC,EAAI0C,GAAI1C,EAAa,WAAE,SAAS2C,GAAM,OAAOvC,EAAG,kBAAkB,CAACwC,IAAID,EAAKE,GAAGvC,MAAM,CAAC,MAAQqC,EAAKG,SAAS,CAAC9C,EAAIS,GAAGT,EAAI+C,GAAGJ,EAAKK,YAAW,IAAI,GAAG5C,EAAG,cAAc,CAACE,MAAM,CAAC,MAAQ,cAAc,CAACF,EAAG,WAAW,CAACqC,YAAY,CAAC,MAAQ,QAAQV,MAAM,CAACC,MAAOhC,EAAIiC,cAAiC,oBAAEC,SAAS,SAAUC,GAAMnC,EAAIoC,KAAKpC,EAAIiC,cAAe,sBAAuBE,IAAME,WAAW,sCAAsCrC,EAAI0C,GAAI1C,EAAmB,iBAAE,SAAS2C,GAAM,OAAOvC,EAAG,kBAAkB,CAACwC,IAAID,EAAKG,OAAOxC,MAAM,CAAC,MAAQqC,EAAKG,SAAS,CAAC9C,EAAIS,GAAGT,EAAI+C,GAAGJ,EAAKK,YAAW,IAAI,GAAG5C,EAAG,cAAc,CAACE,MAAM,CAAC,MAAQ,UAAU,CAACF,EAAG,aAAa,CAAC2B,MAAM,CAACC,MAAOhC,EAAIiC,cAAyB,YAAEC,SAAS,SAAUC,GAAMnC,EAAIoC,KAAKpC,EAAIiC,cAAe,cAAeE,IAAME,WAAW,gCAAgC,GAAGjC,EAAG,cAAc,CAACA,EAAG,mBAAmB,CAACE,MAAM,CAAC,KAAO,OAAO,UAAW,EAAK,OAASN,EAAIiD,OAAO,QAAUjD,EAAIkD,QAAQ,iBAAkB,GAAM3C,GAAG,CAAC,OAASP,EAAImD,eAAe,CAAC/C,EAAG,IAAI,CAACW,YAAY,wBAAwB,CAACX,EAAG,MAAM,CAACE,MAAM,CAAC,IAAMN,EAAIiC,cAAcmB,QAAQ,MAAQ,OAAO,IAAM,GAAG,OAAS,QAAQhD,EAAG,IAAI,CAACW,YAAY,oBAAoBX,EAAG,IAAI,CAACW,YAAY,mBAAmB,CAACf,EAAIS,GAAG,8GAA8GL,EAAG,UAAU,CAACE,MAAM,CAAC,YAAc,YAAYyB,MAAM,CAACC,MAAOhC,EAAIiC,cAAqB,QAAEC,SAAS,SAAUC,GAAMnC,EAAIoC,KAAKpC,EAAIiC,cAAe,UAAWE,IAAME,WAAW,4BAA4B,GAAGjC,EAAG,cAAc,CAACE,MAAM,CAAC,MAAQ,QAAQ,CAACF,EAAG,WAAW,CAACqC,YAAY,CAAC,MAAQ,QAAQV,MAAM,CAACC,MAAOhC,EAAIiC,cAAsB,SAAEC,SAAS,SAAUC,GAAMnC,EAAIoC,KAAKpC,EAAIiC,cAAe,WAAYE,IAAME,WAAW,2BAA2BrC,EAAI0C,GAAI1C,EAAa,WAAE,SAAS2C,GAAM,OAAOvC,EAAG,kBAAkB,CAACwC,IAAID,EAAKE,GAAGvC,MAAM,CAAC,MAAQqC,EAAKE,KAAK,CAAC7C,EAAIS,GAAGT,EAAI+C,GAAGJ,EAAKK,YAAW,IAAI,GAAG5C,EAAG,cAAc,CAACE,MAAM,CAAC,MAAQ,OAAO,CAACF,EAAG,UAAU,CAAC2B,MAAM,CAACC,MAAOhC,EAAIiC,cAAmB,MAAEC,SAAS,SAAUC,GAAMnC,EAAIoC,KAAKpC,EAAIiC,cAAe,QAASE,IAAME,WAAW,0BAA0B,IAAI,GAAGjC,EAAG,WAAW,CAACG,GAAG,CAAC,MAAQP,EAAIqD,WAAW,CAACrD,EAAIS,GAAG,SAAS,IAAI,IAAI,IACriM6C,EAAkB,G,gJCoOtB,GACA,CACE,MAAF,KACE,UAAF,OACE,IAAF,OAEE,YAAF,CAAI,aAAJ,SAEA,CACE,MAAF,OACE,UAAF,WACE,IAAF,WACE,YAAF,CAAI,aAAJ,aAGA,CACE,MAAF,aACE,UAAF,eACE,IAAF,gBAEA,CACE,MAAF,OACE,UAAF,sBACE,IAAF,uBAEA,CACE,MAAF,SACE,UAAF,YACE,IAAF,YACE,YAAF,CAAI,aAAJ,cAEA,CACE,MAAF,UACE,UAAF,WACE,IAAF,WACE,YAAF,CAAI,aAAJ,aAEA,CACE,MAAF,WACE,UAAF,WACE,IAAF,WACE,YAAF,CAAI,aAAJ,aAEA,CACE,MAAF,SACE,IAAF,SACE,MAAF,QACE,YAAF,CAAI,aAAJ,YA6CA,GACEC,KADF,WAEI,MAAO,CACLC,QAASA,EACTC,KAAMxD,KAAKyD,MAAMC,WAAW1D,KAAM,CAAxC,aACMkB,UAAW,GACXyC,eAAgB,GAChB5C,SAAU,GAGV6C,UAAW,GACXC,gBAAiB,GACjBC,UAAU,EACVtC,SAAU,KACVuC,SAAS,EACTC,aAAc,KACdpD,mBAAmB,EACnBqD,WAAY,KACZjC,cAAe,CACbkC,MAAO,EACPnB,KAAM,GACNoB,aAAc,GACdC,SAAU,GACVC,YAAa,GACblB,QAAS,GACTmB,oBAAqB,GACrBC,aAAc,GACdC,gBAAiB,GACjBC,KAAR,GACQC,MAAM,EACNC,SAAU,GAEZxD,WAAN,CACQyD,SAAU,WACVC,MAAO,OACPlC,IAAR,MACM,kBAAN,CACQiC,SAAU,WACVC,MAAO,QACPlC,IAAR,QAIEmC,QA3CF,WA4CI9E,KAAK+E,eAGL/E,KAAKO,YAGPyE,SAAU,CACRhC,OADJ,WAEM,OAAOiC,EAAb,eAEIhC,QAJJ,WAKM,IAAIiC,EAAQC,aAAaC,QAAQ,iBACjC,MAAO,CACLC,cAAe,UAAYH,KAIjCI,QAAS,CACPC,aADJ,WACA,WACMC,EAAN,8CACQ,EAAR,0BAGIC,oBANJ,WAMA,WACMD,EAAN,6CACQ,EAAR,gCAIIT,aAZJ,WAYA,WAKMW,EAAN,oCAEQ,EAAR,0BAQIC,mBA3BJ,WA2BA,WACMH,EAAN,8CACQ,EAAR,sBACQ,EAAR,wCAIII,YAlCJ,SAkCA,cACM,EAAN,qCAEQ,EAAR,yBAIIjE,gBAzCJ,SAyCA,GAEM3B,KAAKiE,WAAarB,EAElB5C,KAAK4F,YAAYhD,GACjB5C,KAAKY,mBAAoB,GAW3BsC,aAzDJ,SAyDA,GACM,IAAN,gBAIqB,SAAX2C,GACF7F,KAAKgC,cAAcmB,QAAU2C,EAAKC,KAAKC,SAAS1C,KAAK2C,KAErDjG,KAAKkG,SAASC,QAAQ,GAA9B,qDACA,aACQnG,KAAKkG,SAASE,MAAM,GAA5B,6CAIIhD,SAvEJ,WAuEA,WAEWpD,KAAKgC,cAAce,MAMpB/C,KAAK8D,SAGP4B,EAAR,gEAEU,EAAV,0BACYW,QAAS,UAAYL,EAAS1C,KAAKA,KAAKP,OAE1C,EAAV,kBAGQ2C,EAAR,+CACU,EAAV,0BACYW,QAAS,QAAUL,EAAS1C,KAAKA,KAAKP,OAExC,EAAV,kBAIM/C,KAAK+D,SAAU,GAxBb/D,KAAKsG,cAAc,SAAS,CAC1BD,QAAS,gBAyBf9F,SApGJ,WAqGMP,KAAKuF,eACLvF,KAAKyF,sBACLzF,KAAKgC,cAAX,GACMhC,KAAK8D,UAAW,EAChB9D,KAAK+D,SAAU,GAGjBwC,KA5GJ,SA4GA,cACMvG,KAAKuF,eAGLvF,KAAKyF,sBAELC,EAAN,mCACQ,EAAR,YAEQ,EAAR,WACQ,EAAR,0BAGQ,EAAR,eAGI7D,SA5HJ,SA4HA,cAEM6D,EAAN,4CACYM,EAAS1C,KAAKA,KAAKkD,UACrB,EAAV,0BACYH,QAAS,KAAOL,EAAS1C,KAAKA,KAAKP,KAAO,cAG5C,EAAV,0BACYsD,QAAS,KAAOL,EAAS1C,KAAKA,KAAKP,KAAO,oBAKlDV,YA1IJ,SA0IA,cAEMqD,EAAN,4CACYM,EAAS1C,KAAKA,KAAKmD,SACrB,EAAV,0BACYJ,QAAS,OAASL,EAAS1C,KAAKA,KAAKP,KAAO,UAG9C,EAAV,0BACYsD,QAAS,OAASL,EAAS1C,KAAKA,KAAKP,KAAO,cAKpDT,aAxJJ,SAwJA,cAEMoD,EAAN,mCACQ,IAAR,cACYpC,EAAKoD,SACP,EAAV,0BACYL,QAAS,OAAS/C,EAAKP,KAAO,SAGhC,EAAV,0BACYsD,QAAS,OAAS/C,EAAKP,KAAO,SAGlC,EAAR,mBAGIrB,OAxKJ,SAwKA,cAEMgE,EAAN,qCACQ,EAAR,0BACUW,QAASL,EAAS1C,KAAK+C,UAEzB,EAAR,iCAGI9E,QAjLJ,SAiLA,GACMoF,OAAOC,KAAK,EAAlB,qCAGInF,SArLJ,WAsLM,OAAN,qFAOIoF,qBA7LJ,SA6LA,GACU9E,EAAM2E,SACRC,OAAOC,KACf,YACA,0CAEA,UAGQ5G,KAAKkG,SAASE,MAAM,gBAGxBU,QAzMJ,WA0MM9G,KAAK+G,gBAAiB,GAExBnF,aA5MJ,SA4MA,cACM8D,EAAN,uCACQ,EAAR,0BACUW,QAAS,OAASL,EAAS1C,KAAKA,KAAKP,KAAO,cAGlD,SAlNJ,SAkNA,GAGM/C,KAAKuG,KAAKS,IACZ,YAtNJ,aAwNI,kBAxNJ,WAwNA,WACM,EAAN,iDACQ,EAAR,eAEQ,EAAR,WACQ,EAAR,0BACUX,QAAS,OAASY,EAAK3D,KAAK+C,cAGlC,iBAjOJ,WAiOA,WACM,EAAN,gEACQ,EAAR,0BACUA,QAAS,OAASY,EAAK3D,KAAK+C,UAE9B,EAAR,6BAEI,cAxOJ,SAwOA,GAEM,KAAN,iCACI,eA3OJ,SA2OA,GAGMrG,KAAKkH,OAAOpB,EAAlB,yBAKI,OAnPJ,SAmPA,OACM,IAAN,kBACA,sBACA,wBACA,uCACA,oBACQxC,EAAK6D,SAAQ,SAArB,OACU,OAAIzE,EAAKE,KAAOA,EACPX,EAASS,EAAM0E,EAAOC,GAG3B3E,EAAK4E,GACAC,EAAK7E,EAAK4E,GAAY1E,EAAIX,QADnC,MAMV,0BAEA,KAMM,GALAsF,EAAKjE,EAAMkE,GAAS,SAA1B,OACQH,EAAII,OAAOL,EAAO,GAClBM,EAAUhF,KAGPoD,EAAK6B,UAOhB,IACA,yBACM,EAAN,eACA,IAAM,EAEN,mBACA,cAEA,uBAEA,CACQ,IAAR,KACA,IACQJ,EAAKjE,EAAMsE,GAAS,SAA5B,OACUC,EAAKR,EACLS,EAAIV,MAGgB,IAAlBW,EACFF,EAAGJ,OAAOK,EAAG,EAAGJ,GAEhBG,EAAGJ,OAAOK,EAAI,EAAG,EAAGJ,QA1BtBH,EAAKjE,EAAMsE,GAAS,SAA5B,GACUlF,EAAK4E,GAAa5E,EAAK4E,IAAc,GAErC5E,EAAK4E,GAAWU,KAAKN,MA0BzB1H,KAAK+C,GAAX,GAIIrC,UA/SJ,SA+SA,GACM,IAAIuH,EAAQjI,KACZA,KAAKkI,SAAS,CACZrD,MAAO,iBACPsD,QAAS,oBACTC,OAAQ,MACRC,OAAQ,SACRC,WAAY,KACZC,KANR,WAQcC,EACF9C,EAAZ,4CACcuC,EAAM3B,cAAc,WAAW,CAC7BD,QAAS,aAAeL,EAAS1C,KAAKA,KAAO,YAE/C2E,EAAMlD,aAAakD,EAAMjE,iBAG3B0B,EAAZ,mCACcuC,EAAM3B,cAAc,WAAW,CAC7BD,QAAS,aAAeL,EAAS1C,KAAKA,KAAO,YAE/C2E,EAAMlD,aAAakD,EAAMjE,kBAI/ByE,SAxBR,kBC/qBwW,I,wBCQpWC,EAAY,eACd,EACA5I,EACAuD,GACA,EACA,KACA,KACA,MAIa,aAAAqF,E,uECnBf,0BAAwe,EAAG,G,kCCA3e,gBACMC,EAAU,eAEVC,EAAa,CAGnBA,OAAoB,SAAChG,GACjB,OAAOiG,eAAQ,CACXC,IAAK,GAAF,OAAKH,EAAL,mBAAuB/F,GAC1BmG,OAAQ,SAIhBH,UAAuB,SAACI,GACpB,OAAOH,eAAQ,CACXC,IAAK,GAAF,OAAKH,EAAL,cACHK,OAAQA,EACRD,OAAQ,SAIhBH,MAAmB,SAACI,GAChB,OAAOH,eAAQ,CACXC,IAAKH,EACLK,OAAQA,EACRD,OAAQ,SAGhBH,eAA4B,SAACK,EAAUC,GACnC,OAAOL,eAAQ,CACXC,IAAK,GAAF,OAAKH,EAAL,2BAA+BM,GAClCD,OAAQ,CAACE,eAAeA,GACxBH,OAAQ,SAGhBH,oBAAiC,SAACK,EAAUE,GACxC,OAAON,eAAQ,CACXC,IAAK,GAAF,OAAKH,EAAL,gCAAoCM,GACvCD,OAAQ,CAACG,UAAUA,GACnBJ,OAAQ,SAIhBH,WAAwB,SAAC/D,GACrB,OAAOgE,eAAQ,CACXC,IAAK,GAAF,OAAKH,EAAL,UACHK,OAAQ,CAACnE,MAAMA,GACfkE,OAAQ,SAIhBH,mBAAgC,SAAChG,GAC7B,OAAOiG,eAAQ,CACXC,IAAK,GAAF,OAAKH,EAAL,+BAAmC/F,GACtCmG,OAAQ,SAIhBH,cAA2B,SAACK,EAAU/E,GAClC,OAAO2E,eAAQ,CACXC,IAAK,GAAF,OAAKH,EAAL,0BAA8BM,GACjCD,OAAQ,CAAC9E,MAAMA,GACf6E,OAAQ,SAIhBH,YAAyB,SAACQ,EAAMJ,GAC5B,OAAOH,eAAQ,CACXC,IAAK,GAAF,OAAKH,EAAL,wBAA4BS,GAC/BJ,OAAQA,EACRD,OAAQ,SAKhBH,WAAwB,SAACK,EAAUD,GAC/B,OAAOH,eAAQ,CACXC,IAAK,GAAF,OAAKH,EAAL,uBAA2BM,GAC9BD,OAAOA,EACPD,OAAQ,SAIhBH,SAAsB,SAAAK,GAClB,OAAOJ,eAAQ,CACXC,IAAK,GAAF,OAAKH,EAAL,iBAAqBM,GACxBF,OAAQ,SAGhBH,mBAAgC,SAAAK,GAC5B,OAAOJ,eAAQ,CACXC,IAAK,GAAF,OAAKH,EAAL,+BAAmCM,GACtCF,OAAQ,SAGhBH,SAAsB,SAAAK,GAClB,OAAOJ,eAAQ,CACXC,IAAK,GAAF,OAAKH,EAAL,qBAAyBM,GAC5BF,OAAQ,SAIhBH,gBAA6B,SAAAK,GACzB,OAAOJ,eAAQ,CACXC,IAAK,GAAF,OAAKH,EAAL,4BAAgCM,GACnCF,OAAQ,SAIhBH,OAAoB,SAACI,GACjB,OAAOH,eAAQ,CACXC,IAAKH,EACLrF,KAAM0F,EACND,OAAQ,UAGhBH,YAAyB,SAACI,GACtB,OAAOH,eAAQ,CACXC,IAAK,GAAF,OAAKH,EAAL,SACHrF,KAAM0F,EACND,OAAQ,UAIhBH,UAAuB,SAAChG,EAAGoG,GACvB,OAAOH,eAAQ,CACXC,IAAK,GAAF,OAAKH,EAAL,sBAA0B/F,GAC7BU,KAAM0F,EACND,OAAQ,UAIhBH,cAA2B,SAAChG,EAAGoG,GAC3B,OAAOH,eAAQ,CACXC,IAAK,GAAF,OAAKH,EAAL,iBAAqB/F,GACxBU,KAAM0F,EACND,OAAQ,UAKhBH,OAAoB,SAAChG,EAAGoG,GACpB,OAAOH,eAAQ,CACXC,IAAK,GAAF,OAAKH,EAAL,mBAAuB/F,GAC1BU,KAAM0F,EACND,OAAQ,UAIhBH,aAAwB,SAAChG,GACrB,OAAOiG,eAAQ,CACXC,IAAK,GAAF,OAAKH,EAAL,yBAA6B/F,GAChCmG,OAAQ,UAKDH,U,wEC3JTD,EAAU,kBAEVU,EAAgB,CAEtBA,OAAqB,WACnB,uBAAiBC,OAAOX,QAAxB,YAAmCW,OAAOC,KAA1C,2BAGFF,UAAwB,WACtB,uBAAiBC,OAAOX,QAAxB,YAAmCW,OAAOC,KAA1C,0CAGFF,KAAqB,SAACL,GACpB,OAAOH,eAAQ,CACXC,IAAKH,EACLK,OAAOA,EACPD,OAAQ,UAGCM,U,gFCpBTV,EAAU,gBAEVa,EAAc,GA8GpB,SAASC,EAAa9F,EAAgB+F,GAClCA,EAAWvC,SAAQ,SAAAzB,GACb/B,EAAehB,MAAQ+C,EAASf,WAC7BhB,EAAeiB,WAClBjB,EAAeiB,SAAW,IAE5BjB,EAAeiB,SAASoD,KAAK,CAC3BrF,IAAK+C,EAAS9C,GACdiC,MAAOa,EAAS3C,KAChB4G,QAAQ,EACRC,YAAa,CAAE/E,MAAO,gBAMxBlB,EAAeiB,SACjBjB,EAAeiB,SAASuC,SAAQ,SAAAzB,GAAQ,OAAI+D,EAAa/D,EAAUgE,MAEnE/F,EAAegG,QAAS,EA9H9BH,EAAYK,aAAe,SAACjH,GAC1B,OAAOiG,eAAQ,CACXC,IAAK,GAAF,OAAKH,EAAL,2BAA+B/F,GAClCmG,OAAQ,SAIdS,EAAYM,KAAO,WACjB,OAAOjB,eAAQ,CACXC,IAAKH,EACLI,OAAQ,SAGdS,EAAYO,WAAa,WACvB,OAAOlB,eAAQ,CACXC,IAAK,GAAF,OAAKH,EAAL,eACHI,OAAQ,SAKdS,EAAY9I,UAAY,SAACsI,GACvB,OAAOH,eAAQ,CACXC,IAAK,GAAF,OAAKH,EAAL,cACHK,OAAQA,EACRD,OAAQ,SAGdS,EAAYQ,IAAM,SAAA1G,GAChB,OAAOuF,eAAQ,CACbC,IAAIH,EACJI,OAAO,OACPzF,KAAKA,KAKTkG,EAAYS,UAAY,SAAA3G,GACtB,OAAOuF,eAAQ,CACbC,IAAG,UAAIH,EAAJ,cACHI,OAAO,OACPzF,KAAKA,KAITkG,EAAYU,OAAS,SAACtH,EAAGU,GACvB,OAAOuF,eAAQ,CACbC,IAAG,UAAIH,EAAJ,mBAAsB/F,GACzBmG,OAAO,OACPzF,KAAKA,KAGTkG,EAAYW,SAAS,SAAAvH,GACnB,OAAOiG,eAAQ,CACbC,IAAG,UAAIH,EAAJ,iBAAoB/F,GACvBmG,OAAO,SAIXS,EAAYY,OAAO,SAAAC,GACjB,OAAOxB,eAAQ,CACbC,IAAG,UAAIH,EAAJ,qBAAwB0B,GAC3BtB,OAAO,SAIXS,EAAYc,kBAAkB,SAAA1H,GAC5B,OAAOiG,eAAQ,CACbC,IAAG,UAAIH,EAAJ,8BAAiC/F,GACpCmG,OAAO,SAGXS,EAAYe,kBAAkB,SAAA3H,GAC5B,OAAOiG,eAAQ,CACbC,IAAG,UAAIH,EAAJ,8BAAiC/F,GACpCmG,OAAO,SAGXS,EAAY9C,SAAS,SAAA9D,GACnB,OAAOiG,eAAQ,CACbC,IAAG,UAAIH,EAAJ,qBAAwB/F,GAC3BmG,OAAO,SAKXS,EAAYgB,WAAW,SAAA5H,GACrB,OAAOiG,eAAQ,CACbC,IAAG,UAAIH,EAAJ,mBAAsB/F,GACzBmG,OAAO,SAIXS,EAAYiB,qBAAqB,SAAA7H,GAC/B,OAAOiG,eAAQ,CACbC,IAAG,UAAIH,EAAJ,gCAAmC/F,GACtCmG,OAAO,SAIXS,EAAY5H,aAAa,SAACgB,GACxB,OAAOiG,eAAQ,CACXC,IAAK,GAAF,OAAKH,EAAL,yBAA6B/F,GAChCmG,OAAQ,SA2BZS,EAAYC,aAAe,SAAAC,GACzB,IAAMgB,EAAkB,CACtB/H,IAAK,EACLkC,MAAO,MACPD,SAAU,IAGZ,OADA6E,EAAaiB,EAAiBhB,GACvBgB,EAAgB9F,UAEV4E,U,wEC/IXb,EAAU,gBAEVgC,EAAc,CAEpBA,OAAqB,SAAC/H,EAAGgI,GACrB,OAAO/B,eAAQ,CACXC,IAAK,GAAF,OAAKH,EAAL,mBAAuB/F,GAC1BU,KAAMsH,EACN7B,OAAQ,UAGhB4B,gBAA8B,SAAC/H,GAC3B,OAAOiG,eAAQ,CACXC,IAAK,GAAF,OAAKH,EAAL,4BAAgC/F,GACnCmG,OAAQ,SAIhB4B,WAAyB,SAACE,GACtB,OAAOhC,eAAQ,CACXC,IAAK,GAAF,OAAKH,EAAL,iBAAqBkC,GACxB9B,OAAQ,SAIhB4B,KAAmB,SAAA/H,GACf,OAAOiG,eAAQ,CACXC,IAAK,GAAF,OAAKH,EAAL,iBAAqB/F,GACxBmG,OAAQ,SAIhB4B,WAAyB,SAAA/H,GACrB,OAAOiG,eAAQ,CACXC,IAAK,GAAF,OAAKH,EAAL,mBAAuB/F,GAC1BmG,OAAQ,SAKhB4B,KAAkB,SAAC3B,GACf,OAAOH,eAAQ,CACXC,IAAIH,EACJK,OAAOA,EACPD,OAAO,SAGf4B,IAAkB,SAAC3B,GACf,OAAOH,eAAQ,CACXC,IAAKH,EACLrF,KAAM0F,EACND,OAAQ,UAGhB4B,OAAmB,WACf,uBAAiBrB,OAAOX,QAAxB,YAAmCW,OAAOC,KAA1C,0BAGWoB","file":"js/ArticleCategory.5e16a99f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.initEdit}},[_vm._v(\"添加分类\")]),_c('a-button',{on:{\"click\":function($event){return _vm.updateAll(false)}}},[_vm._v(\"生成所有分类HTML\")]),_c('a-button',{on:{\"click\":function($event){return _vm.updateAll(true)}}},[_vm._v(\"生成所有分类HTML更新模板\")]),_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.updateCategoryPos}},[_vm._v(\"更新顺序\")]),_c('a-drawer',{attrs:{\"title\":\"文章列表\",\"placement\":\"right\",\"closable\":true,\"visible\":_vm.articleListDrawer,\"width\":\"40rem\"},on:{\"close\":function (){_vm.articleListDrawer=false}}},[_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.updateArticlePos}},[_vm._v(\"更新文章顺序\")]),_c('a-tree',{staticClass:\"draggable-tree\",attrs:{\"draggable\":\"\",\"block-node\":\"\",\"tree-data\":_vm.articles,\"replace-fields\":_vm.articleFieldNames},on:{\"drop\":_vm.onDropArticle}})],1),_c('a-row',[_c('a-col',{attrs:{\"span\":8}},[_c('a-tree',{staticClass:\"draggable-tree\",attrs:{\"draggable\":\"\",\"block-node\":\"\",\"tree-data\":_vm.categorys,\"replace-fields\":_vm.fieldNames},on:{\"dragenter\":_vm.onDragEnter,\"select\":_vm.onSelect,\"drop\":_vm.onDropCategory}})],1),_c('a-col',{attrs:{\"span\":16}},[(_vm.isUpdate)?_c('div',[_c('a-button',{on:{\"click\":function($event){return _vm.preview(_vm.updateId)}}},[_vm._v(\"预览\")]),_c('a-button',{on:{\"click\":function($event){return _vm.openHtml()}}},[_vm._v(\"查看Html\")]),_c('a-button',{on:{\"click\":function($event){return _vm.remove(_vm.updateId)}}},[_vm._v(\"删除分类\")]),_c('a-button',{on:{\"click\":function($event){return _vm.articleListShow(_vm.updateId)}}},[_vm._v(\"查看文章\")]),_c('a-button',{on:{\"click\":function($event){return _vm.generateHtml(_vm.updateId)}}},[_vm._v(\"生成HTML\")]),_vm._v(\" 是否推荐首页 \"),_c('a-switch',{attrs:{\"defaultChecked\":\"\"},on:{\"change\":function($event){return _vm.onChange(_vm.updateId)}},model:{value:(_vm.categoryParam.recommend),callback:function ($$v) {_vm.$set(_vm.categoryParam, \"recommend\", $$v)},expression:\"categoryParam.recommend\"}}),_vm._v(\" 是否添加到导航 \"),_c('a-switch',{attrs:{\"defaultChecked\":\"\"},on:{\"change\":function($event){return _vm.onChangeNav(_vm.updateId)}},model:{value:(_vm.categoryParam.existNav),callback:function ($$v) {_vm.$set(_vm.categoryParam, \"existNav\", $$v)},expression:\"categoryParam.existNav\"}}),_vm._v(\" 是否生成Html \"),_c('a-switch',{attrs:{\"defaultChecked\":\"\"},on:{\"change\":function($event){return _vm.onChangeHtml(_vm.updateId)}},model:{value:(_vm.categoryParam.haveHtml),callback:function ($$v) {_vm.$set(_vm.categoryParam, \"haveHtml\", $$v)},expression:\"categoryParam.haveHtml\"}}),_c('hr')],1):_vm._e(),_c('a-form-item',{attrs:{\"label\":\"一页文章数量\"}},[_c('a-input-number',{attrs:{\"id\":\"inputNumber\"},model:{value:(_vm.categoryParam.articleListSize),callback:function ($$v) {_vm.$set(_vm.categoryParam, \"articleListSize\", $$v)},expression:\"categoryParam.articleListSize\"}})],1),_c('a-switch',{attrs:{\"defaultChecked\":\"\"},model:{value:(_vm.categoryParam.desc),callback:function ($$v) {_vm.$set(_vm.categoryParam, \"desc\", $$v)},expression:\"categoryParam.desc\"}}),_c('a-form',{attrs:{\"layout\":\"horizontal\"}},[_c('a-form-item',{attrs:{\"label\":\"视图的名称\",\"help\":\"不输入.默认生成\"}},[_c('a-input',{model:{value:(_vm.categoryParam.viewName),callback:function ($$v) {_vm.$set(_vm.categoryParam, \"viewName\", $$v)},expression:\"categoryParam.viewName\"}})],1),_c('a-form-item',{attrs:{\"label\":\"分类名称\"}},[_c('a-input',{model:{value:(_vm.categoryParam.name),callback:function ($$v) {_vm.$set(_vm.categoryParam, \"name\", $$v)},expression:\"categoryParam.name\"}})],1),_c('a-form-item',{attrs:{\"label\":\"icon\"}},[_c('a-input',{model:{value:(_vm.categoryParam.icon),callback:function ($$v) {_vm.$set(_vm.categoryParam, \"icon\", $$v)},expression:\"categoryParam.icon\"}})],1),_c('a-form-item',{attrs:{\"label\":\"选择分类信息模板\"}},[_c('a-select',{staticStyle:{\"width\":\"100%\"},model:{value:(_vm.categoryParam.templateName),callback:function ($$v) {_vm.$set(_vm.categoryParam, \"templateName\", $$v)},expression:\"categoryParam.templateName\"}},_vm._l((_vm.templates),function(item){return _c('a-select-option',{key:item.id,attrs:{\"value\":item.enName}},[_vm._v(_vm._s(item.name))])}),1)],1),_c('a-form-item',{attrs:{\"label\":\"选择文章显示的模板\"}},[_c('a-select',{staticStyle:{\"width\":\"100%\"},model:{value:(_vm.categoryParam.articleTemplateName),callback:function ($$v) {_vm.$set(_vm.categoryParam, \"articleTemplateName\", $$v)},expression:\"categoryParam.articleTemplateName\"}},_vm._l((_vm.articleTemplate),function(item){return _c('a-select-option',{key:item.enName,attrs:{\"value\":item.enName}},[_vm._v(_vm._s(item.name))])}),1)],1),_c('a-form-item',{attrs:{\"label\":\"分类的描述\"}},[_c('a-textarea',{model:{value:(_vm.categoryParam.description),callback:function ($$v) {_vm.$set(_vm.categoryParam, \"description\", $$v)},expression:\"categoryParam.description\"}})],1),_c('a-form-item',[_c('a-upload-dragger',{attrs:{\"name\":\"file\",\"multiple\":true,\"action\":_vm.upload,\"headers\":_vm.headers,\"withCredentials\":true},on:{\"change\":_vm.handleChange}},[_c('p',{staticClass:\"ant-upload-drag-icon\"},[_c('img',{attrs:{\"src\":_vm.categoryParam.picPath,\"width\":\"100%\",\"alt\":\"\",\"srcset\":\"\"}})]),_c('p',{staticClass:\"ant-upload-text\"}),_c('p',{staticClass:\"ant-upload-hint\"},[_vm._v(\"Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files\")])]),_c('a-input',{attrs:{\"placeholder\":\"直接粘贴图片路径\"},model:{value:(_vm.categoryParam.picPath),callback:function ($$v) {_vm.$set(_vm.categoryParam, \"picPath\", $$v)},expression:\"categoryParam.picPath\"}})],1),_c('a-form-item',{attrs:{\"label\":\"父ID\"}},[_c('a-select',{staticStyle:{\"width\":\"100%\"},model:{value:(_vm.categoryParam.parentId),callback:function ($$v) {_vm.$set(_vm.categoryParam, \"parentId\", $$v)},expression:\"categoryParam.parentId\"}},_vm._l((_vm.categorys),function(item){return _c('a-select-option',{key:item.id,attrs:{\"value\":item.id}},[_vm._v(_vm._s(item.name))])}),1)],1),_c('a-form-item',{attrs:{\"label\":\"排序\"}},[_c('a-input',{model:{value:(_vm.categoryParam.order),callback:function ($$v) {_vm.$set(_vm.categoryParam, \"order\", $$v)},expression:\"categoryParam.order\"}})],1)],1),_c('a-button',{on:{\"click\":_vm.handleOk}},[_vm._v(\"确认\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <a-button type=\"primary\" @click=\"initEdit\">添加分类</a-button>\n    <a-button @click=\"updateAll(false)\">生成所有分类HTML</a-button>\n    <a-button @click=\"updateAll(true)\">生成所有分类HTML更新模板</a-button>\n       <a-button type=\"primary\" @click=\"updateCategoryPos\">更新顺序</a-button>\n    <!-- <a-tabs defaultActiveKey=\"-1\" @change=\"tabCallback\"> -->\n    <!-- <a-tab-pane :tab=\"itemTab.name\" :key=\"itemTab.enName\" v-for=\"itemTab in templates\"> -->\n    <!-- <a-table\n      :columns=\"columns\"\n      :dataSource=\"categorys\"\n      :pagination=\"false\"\n      :rowKey=\"category => category.id\"\n      size=\"small\"\n      class=\"table\"\n      :scroll=\"{ x: 1500 }\"\n    >\n      <a\n        slot=\"name\"\n        slot-scope=\"name, record\"\n        href=\"javascript:;\"\n        @click=\"preview(record.id)\"\n      >{{name}}</a>\n      <a\n        slot=\"viewName\"\n        slot-scope=\"viewName, record\"\n        href=\"javascript:;\"\n        @click=\"openHtml(record)\"\n      >{{viewName}}</a>\n\n      <a\n        slot=\"firstArticle\"\n        slot-scope=\"firstArticle, record\"\n        href=\"javascript:;\"\n        @click=\"openHtmlFirstArticle(record)\"\n      >{{firstArticle}}</a>\n\n      <div slot=\"recommend\" slot-scope=\"recommend,record\">\n        <a-switch defaultChecked @change=\"onChange(record.id)\" v-model=\"record.recommend\" />\n      </div>\n\n      <div slot=\"existNav\" slot-scope=\"existNav,record\">\n        <a-switch defaultChecked @change=\"onChangeNav(record.id)\" v-model=\"record.existNav\" />\n      </div>\n\n      <div slot=\"haveHtml\" slot-scope=\"haveHtml,record\">\n        <a-switch defaultChecked @change=\"onChangeHtml(record.id)\" v-model=\"record.haveHtml\" />\n      </div>\n      <span slot=\"action\" slot-scope=\"text, record\">\n     \n        <a-divider type=\"vertical\" />\n        <a href=\"javascript:;\" @click=\"articleListShow(record.id)\">查看文章</a>\n        <a-divider type=\"vertical\" />\n        <a href=\"javascript:;\" @click=\"generateHtml(record.id)\">生成HTML</a>\n\n        <a-divider type=\"vertical\" />\n        <a href=\"javascript:;\" @click=\"()=> edit(record.id)\">编辑</a>\n\n        <a-divider type=\"vertical\" />\n        <a href=\"javascript:;\" @click=\"(e)=> remove(record.id)\">删除分类</a>\n     \n      </span>\n    </a-table> -->\n    <!-- </a-tab-pane> -->\n\n    <!-- <a-tab-pane tab=\"使用说明\" ></a-tab-pane> -->\n    <!-- </a-tabs> -->\n\n    <a-drawer\n      title=\"文章列表\"\n      placement=\"right\"\n      :closable=\"true\"\n      :visible=\"articleListDrawer\"\n      @close=\"()=>{articleListDrawer=false}\"\n      width=\"40rem\"\n    >\n    <a-button type=\"primary\" @click=\"updateArticlePos\">更新文章顺序</a-button>\n\n         <a-tree\n        class=\"draggable-tree\"\n        draggable\n        block-node\n        :tree-data=\"articles\"\n        :replace-fields=\"articleFieldNames\"\n        @drop=\"onDropArticle\"\n         \n      />\n      <!-- <a-list bordered :dataSource=\"articles\">\n        <a-list-item slot=\"renderItem\" slot-scope=\"item\">\n\n          <a-input-number slot=\"actions\" v-model=\"item.order\" />\n          <a slot=\"actions\" @click=\"updateArticleOrder(item.id,item.order)\">更新文章Order</a>\n          <a-list-item-meta :description=\"item.content\">\n            <a slot=\"title\">{{item.title}}</a>\n          </a-list-item-meta>\n        </a-list-item>\n      </a-list> -->\n    </a-drawer>\n\n  <a-row>\n    <a-col :span=\"8\">\n        <a-tree\n        class=\"draggable-tree\"\n        draggable\n        block-node\n        :tree-data=\"categorys\"\n        :replace-fields=\"fieldNames\"\n         @dragenter=\"onDragEnter\"\n         @select=\"onSelect\"\n        @drop=\"onDropCategory\"\n         \n      />\n      <!-- @select=\"onSelect\" -->\n        <!-- :replace-fields=\"fieldNames\" -->\n\n    </a-col>\n    <a-col :span=\"16\">\n\n      <div v-if=\"isUpdate\">\n         <a-button  @click=\"preview(updateId)\">预览</a-button>\n         <a-button  @click=\"openHtml()\">查看Html</a-button>\n          <a-button  @click=\"remove(updateId)\">删除分类</a-button>\n          <a-button  @click=\"articleListShow(updateId)\">查看文章</a-button>\n           <a-button  @click=\"generateHtml(updateId)\">生成HTML</a-button>\n           是否推荐首页\n          <a-switch defaultChecked @change=\"onChange(updateId)\" v-model=\"categoryParam.recommend\" />\n\n          是否添加到导航\n           <a-switch defaultChecked @change=\"onChangeNav(updateId)\" v-model=\"categoryParam.existNav\" />\n          是否生成Html\n            <a-switch defaultChecked @change=\"onChangeHtml(updateId)\" v-model=\"categoryParam.haveHtml\" />\n\n           <!-- <a-switch defaultChecked @change=\"onChange(this.updateId)\" /> -->\n           \n          <hr>\n      </div>\n\n        <!-- <a-input v-model:value=\"value\" placeholder=\"Basic usage\" /> -->\n\n    <!-- <a-modal title=\"添加分类\" v-model=\"visible\" @ok=\"handleOk\"> -->\n      <a-form-item label=\"一页文章数量\">\n        <a-input-number id=\"inputNumber\" v-model=\"categoryParam.articleListSize\" />\n      </a-form-item>\n      <a-switch defaultChecked v-model=\"categoryParam.desc\" />\n\n      <a-form layout=\"horizontal\">\n        <a-form-item label=\"视图的名称\" help=\"不输入.默认生成\">\n          <a-input v-model=\"categoryParam.viewName\"></a-input>\n        </a-form-item>\n        <a-form-item label=\"分类名称\">\n          <a-input v-model=\"categoryParam.name\"></a-input>\n        </a-form-item>\n        <a-form-item label=\"icon\">\n          <a-input v-model=\"categoryParam.icon\"></a-input>\n        </a-form-item>\n\n        <a-form-item label=\"选择分类信息模板\">\n          <a-select style=\"width: 100%\" v-model=\"categoryParam.templateName\">\n            <a-select-option\n              :value=\"item.enName\"\n              v-for=\"item in templates\"\n              :key=\"item.id\"\n            >{{item.name}}</a-select-option>\n          </a-select>\n        </a-form-item>\n\n        <a-form-item label=\"选择文章显示的模板\">\n          <a-select style=\"width: 100%\" v-model=\"categoryParam.articleTemplateName\">\n            <a-select-option\n              :value=\"item.enName\"\n              v-for=\"item in articleTemplate\"\n              :key=\"item.enName\"\n            >{{item.name}}</a-select-option>\n          </a-select>\n        </a-form-item>\n\n        <a-form-item label=\"分类的描述\">\n          <a-textarea v-model=\"categoryParam.description\"></a-textarea>\n        </a-form-item>\n        <a-form-item>\n          <a-upload-dragger\n            name=\"file\"\n            :multiple=\"true\"\n            :action=\"upload\"\n            @change=\"handleChange\"\n            :headers=\"headers\"\n            :withCredentials=\"true\"\n          >\n            <p class=\"ant-upload-drag-icon\">\n              <!-- <a-icon type=\"inbox\" /> -->\n              <img :src=\"categoryParam.picPath\" width=\"100%\" alt srcset />\n            </p>\n            <p class=\"ant-upload-text\"></p>\n            <p\n              class=\"ant-upload-hint\"\n            >Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files</p>\n          </a-upload-dragger>\n          <a-input placeholder=\"直接粘贴图片路径\" v-model=\"categoryParam.picPath\"></a-input>\n        </a-form-item>\n\n        <a-form-item label=\"父ID\">\n          <a-select style=\"width: 100%\" v-model=\"categoryParam.parentId\">\n            <a-select-option\n              :value=\"item.id\"\n              v-for=\"item in categorys\"\n              :key=\"item.id\"\n            >{{item.name}}</a-select-option>\n          </a-select>\n        </a-form-item>\n\n\n        <a-form-item label=\"排序\">\n          <a-input v-model=\"categoryParam.order\"></a-input>\n        </a-form-item>\n      </a-form>\n      <a-button @click=\"handleOk\">确认</a-button>\n    <!-- </a-modal> -->\n\n    </a-col>\n  </a-row>\n\n\n  \n\n\n  </div>\n</template>\n\n<script>\nconst columns = [\n  {\n    title: \"名称\",\n    dataIndex: \"name\",\n    key: \"name\",\n    // fixed: \"left\",\n    scopedSlots: { customRender: \"name\" }\n  },\n  {\n    title: \"视图名称\",\n    dataIndex: \"viewName\",\n    key: \"viewName\",\n    scopedSlots: { customRender: \"viewName\" }\n  },\n\n  {\n    title: \"category模板\",\n    dataIndex: \"templateName\",\n    key: \"templateName\"\n  },\n  {\n    title: \"文章模板\",\n    dataIndex: \"articleTemplateName\",\n    key: \"articleTemplateName\"\n  },\n  {\n    title: \"是否推荐首页\",\n    dataIndex: \"recommend\",\n    key: \"recommend\",\n    scopedSlots: { customRender: \"recommend\" }\n  },\n  {\n    title: \"是否添加到导航\",\n    dataIndex: \"existNav\",\n    key: \"existNav\",\n    scopedSlots: { customRender: \"existNav\" }\n  },\n  {\n    title: \"是否生成Html\",\n    dataIndex: \"haveHtml\",\n    key: \"haveHtml\",\n    scopedSlots: { customRender: \"haveHtml\" }\n  },\n  {\n    title: \"Action\",\n    key: \"action\",\n    fixed: \"right\",\n    scopedSlots: { customRender: \"action\" }\n  }\n];\nimport categoryApi from \"@/api/category.js\";\nimport templateApi from \"@/api/template.js\";\nimport preview from \"@/api/preview.js\";\n// import uploadApi from \"@/api/upload.js\";\nimport attachmentApi from \"@/api/attachment.js\";\nimport ArticleApi from \"@/api/article.js\";\n\n// // import {  ref } from 'vue';\n// const x = 3;\n// const y = 2;\n// const z = 1;\n// const genData = [];\n\n// const generateData = (_level, _preKey, _tns) => {\n//   const preKey = _preKey || '0';\n//   const tns = _tns || genData;\n//   const children = [];\n\n//   for (let i = 0; i < x; i++) {\n//     const key = `${preKey}-${i}`;\n//     tns.push({\n//       title: key,\n//       key,\n//     });\n\n//     if (i < y) {\n//       children.push(key);\n//     }\n//   }\n\n//   if (_level < 0) {\n//     return tns;\n//   }\n\n//   const level = _level - 1;\n//   children.forEach((key, index) => {\n//     tns[index].children = [];\n//     return generateData(level, key, tns[index].children);\n//   });\n// };\n\n// generateData(z);\nexport default {\n  data() {\n    return {\n      columns: columns,\n      form: this.$form.createForm(this, { name: \"123\" }),\n      categorys: [],\n      parentCategory: [],\n      articles: [],\n      // gData:[],\n      // value: \"\",\n      templates: [],\n      articleTemplate: [],\n      isUpdate: false,\n      updateId: null,\n      visible: false,\n      currentTabId: null,\n      articleListDrawer: false,\n      categoryId: null,\n      categoryParam: {\n        order: 0,\n        name: \"\",\n        templateName: \"\",\n        viewName: \"\",\n        description: \"\",\n        picPath: \"\",\n        articleTemplateName: \"\",\n        firstArticle: \"\",\n        articleListSize: 10,\n        icon:\"\",\n        desc: true,\n        parentId: 0\n      },\n      fieldNames:{\n        children: 'children',\n        title: 'name',\n        key:'id'\n      },articleFieldNames:{\n        children: 'children',\n        title: 'title',\n        key:'id'\n      }\n    };\n  },\n  created() {\n    this.loadcategory();\n    // this.gData = genData;\n    // console.log(genData)\n    this.initEdit()\n    // console.log(this.categorys )\n  },\n  computed: {\n    upload() {\n      return attachmentApi.upload();\n    },\n    headers() {\n      var token = localStorage.getItem(\"Authorization\");\n      return {\n        Authorization: \"Bearer \" + token\n      };\n    }\n  },\n  methods: {\n    loadTempalte() {\n      templateApi.findByType(\"CATEGORY\").then(response => {\n        this.templates = response.data.data;\n      });\n    },\n    loadArticleTempalte() {\n      templateApi.findByType(\"ARTICLE\").then(response => {\n        this.articleTemplate = response.data.data;\n        // console.log(response);\n      });\n    },\n    loadcategory() {\n      // categoryApi.pageBy(templateEnName).then(resp => {\n      //   console.log(resp.data.data.content);\n      //   this.categorys = resp.data.data.content;\n      // });\n      categoryApi.listVoTree().then(resp => {\n        // console.log(resp.data.data);\n        this.categorys = resp.data.data;\n      });\n      // console.log(\"loadcategory\");\n      // categoryApi.listByParent(id).then(response => {\n      //   // console.log(response);\n      //   this.categorys = response.data.data;\n      // });\n    },\n    loadParentCategory() {\n      templateApi.findByType(\"CATEGORY\").then(response => {\n        this.templates = response.data.data;\n        this.loadcategory(this.templates[0].enName);\n        // console.log(this.templates);\n      });\n    },\n    loadArticle(id) {\n      ArticleApi.listVoTree(id).then(response => {\n        // console.log(response);\n        this.articles = response.data.data;\n      });\n      // console.log(id)\n    },\n    articleListShow(id) {\n      // console.log(id)\n      this.categoryId = id;\n      // console.log(id);\n      this.loadArticle(id);\n      this.articleListDrawer = true;\n    },\n    // updateArticleOrder(id, order) {\n    //   // console.log(id+\"-\"+order)\n    //   ArticleApi.updateOrderBy(id, order).then(resp => {\n    //     this.$notification[\"success\"]({\n    //       message: \"成功更改文章\" + resp.data.data.title + \"的顺序!\"\n    //     });\n    //     this.loadArticle(this.categoryId);\n    //   });\n    // },\n    handleChange(info) {\n      const status = info.file.status;\n      if (status !== \"uploading\") {\n        // console.log(info.file, info.fileList);\n      }\n      if (status === \"done\") {\n        this.categoryParam.picPath = info.file.response.data.path;\n        // console.log(info.file.response.data.path);\n        this.$message.success(`${info.file.name} file uploaded successfully.`);\n      } else if (status === \"error\") {\n        this.$message.error(`${info.file.name} file upload failed.`);\n      }\n    },\n\n    handleOk() {\n      // console.log(this.categoryParam)\n      if (!this.categoryParam.name) {\n        this.$notification[\"error\"]({\n          message: \"分类标题不能为空!!\"\n        });\n        return;\n      }\n      if (this.isUpdate) {\n        // this.desc=1\n        // console.log(this.categoryParam);\n        categoryApi.update(this.updateId, this.categoryParam).then(response => {\n          // console.log(this.categoryParam)\n          this.$notification[\"success\"]({\n            message: \"成功更新数据:\" + response.data.data.name\n          });\n           this.loadcategory();\n        });\n      } else {\n        categoryApi.add(this.categoryParam).then(response => {\n          this.$notification[\"success\"]({\n            message: \"成功添加:\" + response.data.data.name\n          });\n           this.loadcategory();\n        });\n      }\n\n      this.visible = false;\n    },\n    initEdit() {\n      this.loadTempalte();\n      this.loadArticleTempalte();\n      this.categoryParam={}\n      this.isUpdate = false;\n      this.visible = true;\n    },\n\n    edit(id) {\n      this.loadTempalte();\n      // this.loadArticle(id);\n\n      this.loadArticleTempalte();\n     \n      categoryApi.findById(id).then(response => {\n         this.isUpdate = true;\n\n        this.updateId = id;\n        this.categoryParam = response.data.data;\n        // console.log(this.categoryParam);\n        // this.categoryParam.haveHtml = 0;\n        this.visible = true;\n      });\n    },\n    onChange(item) {\n      // console.log(item);\n      categoryApi.recommendOrCancel(item).then(response => {\n        if (response.data.data.recommend) {\n          this.$notification[\"success\"]({\n            message: \"分类\" + response.data.data.name + \"成功在首页推荐!!\"\n          });\n        } else {\n          this.$notification[\"success\"]({\n            message: \"分类\" + response.data.data.name + \"已经从首页取消推荐!!\"\n          });\n        }\n      });\n    },\n    onChangeNav(id) {\n      // console.log(id);\n      categoryApi.addOrRemoveToMenu(id).then(response => {\n        if (response.data.data.existNav) {\n          this.$notification[\"success\"]({\n            message: \"成功添加\" + response.data.data.name + \"到导航!!\"\n          });\n        } else {\n          this.$notification[\"success\"]({\n            message: \"成功移除\" + response.data.data.name + \"到导航!!\"\n          });\n        }\n      });\n    },\n    onChangeHtml(id) {\n      // console.log(id);\n      categoryApi.haveHtml(id).then(response => {\n        const data = response.data.data;\n        if (data.haveHtml) {\n          this.$notification[\"success\"]({\n            message: \"成功生成\" + data.name + \"Html\"\n          });\n        } else {\n          this.$notification[\"success\"]({\n            message: \"成功移除\" + data.name + \"Html\"\n          });\n        }\n        this.loadcategory();\n      });\n    },\n    remove(value) {\n      // console.log(value.key);\n      categoryApi.deleteById(value).then(response => {\n        this.$notification[\"success\"]({\n          message: response.data.message\n        });\n        this.loadcategory(this.currentTabId);\n      });\n    },\n    preview(value) {\n      window.open(preview.Online(\"category\", value), \"_blank\");\n    },\n\n    openHtml() {\n        window.open(preview.Html(this.categoryParam.path + \"/\" + this.categoryParam.viewName), \"_blank\");\n\n      // if (this.categoryParam.value.haveHtml) {\n      // } else {\n      //   this.$message.error(\"该分类没有生成HTML\");\n      // }\n    },\n    openHtmlFirstArticle(value) {\n      if (value.haveHtml) {\n        window.open(\n          preview.Html(\n            value.path + \"/\" + value.viewName + \"/\" + value.firstArticle\n          ),\n          \"_blank\"\n        );\n      } else {\n        this.$message.error(\"该分类没有生成HTML\");\n      }\n    },\n    onClose() {\n      this.articleVisible = false;\n    },\n    generateHtml(id) {\n      categoryApi.generateHtml(id).then(response => {\n        this.$notification[\"success\"]({\n          message: \"成功生成\" + response.data.data.name + \"的HTML\"\n        });\n      });\n    },onSelect(selectedKeys){\n      // console.log(selectedKeys);\n      // console.log(info)\n      this.edit(selectedKeys)\n    },onDragEnter(){\n        // console.log(info)\n    },updateCategoryPos(){\n        categoryApi.updatePos(this.categorys ).then(resp=>{\n          this.loadcategory();\n\n          this.initEdit()\n          this.$notification[\"success\"]({\n          message: \"顺序更新\" + resp.data.message \n          });\n        })\n    },updateArticlePos(){\n      ArticleApi.updatePos(this.categoryId ,this.articles).then(resp=>{\n          this.$notification[\"success\"]({\n          message: \"顺序更新\" + resp.data.message \n          });\n        this.generateHtml(this.updateId)\n      })\n    },onDropArticle(info){\n      // console.log(info);\n       this.onDrop(info,\"articles\",\"children\")\n    },onDropCategory(info){\n      \n      // console.log(info);\n      this.onDrop(info,\"categorys\",\"children\")\n        //  children: 'childCategories',\n        // title: 'name',\n        // key:'id'\n     \n    },onDrop(info,name,childName){\n      const dropKey = info.node.eventKey;\n      const dragKey = info.dragNode.eventKey;\n      const dropPos = info.node.pos.split('-');\n      const dropPosition = info.dropPosition - Number(dropPos[dropPos.length - 1]);\n      const loop = (data, id, callback) => {\n        data.forEach((item, index, arr) => {\n          if (item.id === id) {\n            return callback(item, index, arr);\n          }\n\n          if (item[childName]) {\n            return loop(item[childName], id, callback);\n          }\n        });\n      };\n      // console.log(this.categorys)\n      const data = [...this[name]]; // Find dragObject\n\n      let dragObj = {};\n      loop(data, dragKey, (item, index, arr) => {\n        arr.splice(index, 1);\n        dragObj = item;\n      });\n\n      if (!info.dropToGap) {\n        // Drop on the content\n        loop(data, dropKey, item => {\n          item[childName] = item[childName] || []; // where to insert 示例添加到尾部，可以是随意位置\n\n          item[childName].push(dragObj);\n        });\n      } else if (\n        (info.node[childName] || []).length > 0 && // Has children\n        info.node.expanded && // Is expanded\n        dropPosition === 1 // On the bottom gap\n      ) {\n        loop(data, dropKey, item => {\n          item[childName] = item[childName] || []; // where to insert 示例添加到尾部，可以是随意位置\n\n          item[childName].unshift(dragObj);\n        });\n      } else {\n        let ar = [];\n        let i = 0;\n        loop(data, dropKey, (item, index, arr) => {\n          ar = arr;\n          i = index;\n        });\n\n        if (dropPosition === -1) {\n          ar.splice(i, 0, dragObj);\n        } else {\n          ar.splice(i + 1, 0, dragObj);\n        }\n      }\n      this[name]  = data;\n      // console.log(this[name] )\n\n    },\n    updateAll(more) {\n      var _this = this;\n      this.$confirm({\n        title: \"你确定生成所有栏目HTML?\",\n        content: \"Some descriptions\",\n        okText: \"Yes\",\n        okType: \"danger\",\n        cancelText: \"No\",\n        onOk() {\n          // console.log(_this.currentTabId)\n          if (more) {\n            categoryApi.updateAll({ more: true }).then(response => {\n              _this.$notification[\"success\"]({\n                message: \"成功生成栏目Id为:\" + response.data.data + \"的HTML页面\"\n              });\n              _this.loadcategory(_this.currentTabId);\n            });\n          } else {\n            categoryApi.updateAll().then(response => {\n              _this.$notification[\"success\"]({\n                message: \"成功生成栏目Id为:\" + response.data.data + \"的HTML页面\"\n              });\n              _this.loadcategory(_this.currentTabId);\n            });\n          }\n        },\n        onCancel() {\n          // console.log(\"Cancel\");\n        }\n      });\n    }\n  }\n};\n</script>\n<style>\n.but_type {\n  float: right;\n  position: absolute;\n  right: 40px;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleCategory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleCategory.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ArticleCategory.vue?vue&type=template&id=4b288c51&\"\nimport script from \"./ArticleCategory.vue?vue&type=script&lang=js&\"\nexport * from \"./ArticleCategory.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ArticleCategory.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleCategory.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleCategory.vue?vue&type=style&index=0&lang=css&\"","import service from '@/utils/service'\nconst baseUrl = '/api/article'\n\nconst articleApi = {}\n\n\narticleApi.delete = (id) => {\n    return service({\n        url: `${baseUrl}/delete/${id}`,\n        method: 'get'\n    })\n}\n\narticleApi.updateAll = (params) => {\n    return service({\n        url: `${baseUrl}/updateAll`,\n        params: params,\n        method: 'get'\n    })\n}\n\narticleApi.query = (params) => {\n    return service({\n        url: baseUrl,\n        params: params,\n        method: 'get'\n    })\n}\narticleApi.updateCategory = (articleId,baseCategoryId) => {\n    return service({\n        url: `${baseUrl}/updateCategory/${articleId}`,\n        params: {baseCategoryId:baseCategoryId},\n        method: 'get'\n    })\n}\narticleApi.addArticleToChannel = (articleId,channelId) => {\n    return service({\n        url: `${baseUrl}/addArticleToChannel/${articleId}`,\n        params: {channelId:channelId},\n        method: 'get'\n    })\n}\n\narticleApi.queryTitle = (title) => {\n    return service({\n        url: `${baseUrl}/query`,\n        params: {title:title},\n        method: 'get'\n    })\n}\n\narticleApi.listByComponentsId = (id) => {\n    return service({\n        url: `${baseUrl}/listByComponentsId/${id}`,\n        method: 'get'\n    })\n}\n\narticleApi.updateOrderBy = (articleId,order) => {\n    return service({\n        url: `${baseUrl}/updateOrderBy/${articleId}`,\n        params: {order:order},\n        method: 'get'\n    })\n}\n\narticleApi.pageByTagId = (tagId,params) => {\n    return service({\n        url: `${baseUrl}/pageByTagId/${tagId}`,\n        params: params,\n        method: 'get'\n    })\n}\n\n\narticleApi.listVoTree = (articleId,params) => {\n    return service({\n        url: `${baseUrl}/listVoTree/${articleId}`,\n        params:params,\n        method: 'get'\n    })\n}\n\narticleApi.findById = articleId => {\n    return service({\n        url: `${baseUrl}/find/${articleId}`,\n        method: 'get'\n    })\n}\narticleApi.openOrCloseComment = articleId => {\n    return service({\n        url: `${baseUrl}/openOrCloseComment/${articleId}`,\n        method: 'get'\n    })\n}\narticleApi.haveHtml = articleId => {\n    return service({\n        url: `${baseUrl}/haveHtml/${articleId}`,\n        method: 'get'\n    })\n}\n\narticleApi.sendOrCancelTop = articleId => {\n    return service({\n        url: `${baseUrl}/sendOrCancelTop/${articleId}`,\n        method: 'get'\n    })\n}\n\narticleApi.create = (params) => {\n    return service({\n        url: baseUrl,\n        data: params,\n        method: 'post'\n    })\n}\narticleApi.saveArticle = (params) => {\n    return service({\n        url: `${baseUrl}/save`,\n        data: params,\n        method: 'post'\n    })\n}\n\narticleApi.updatePos = (id,params) => {\n    return service({\n        url: `${baseUrl}/updatePos/${id}`,\n        data: params,\n        method: 'post'\n    })\n}\n\narticleApi.updateArticle = (id,params) => {\n    return service({\n        url: `${baseUrl}/save/${id}`,\n        data: params,\n        method: 'post'\n    })\n}\n\n\narticleApi.update = (id,params) => {\n    return service({\n        url: `${baseUrl}/update/${id}`,\n        data: params,\n        method: 'post'\n    })\n}\n\narticleApi.generateHtml=(id) => {\n    return service({\n        url: `${baseUrl}/generateHtml/${id}`,\n        method: 'get'\n    })\n}\n\n\nexport default articleApi","import service from '@/utils/service'\nimport Golbal from '@/api/global_variable.js'\nconst baseUrl = '/api/attachment'\n\nconst attachmentApi = {}\n\nattachmentApi.upload=()=>{\n  return `http://${Golbal.baseUrl}:${Golbal.port}/api/attachment/upload`\n}\n\nattachmentApi.uploadBib=()=>{\n  return `http://${Golbal.baseUrl}:${Golbal.port}/api/attachment/uploadBib?update=true`\n}\n\nattachmentApi.list = (params) => {\n  return service({\n      url: baseUrl,\n      params:params,\n      method: 'get'\n  })\n}\nexport default attachmentApi","import service from '@/utils/service'\nconst baseUrl = '/api/category'\n\nconst categoryApi = {}\n\n\ncategoryApi.listByParent = (id) => {\n  return service({\n      url: `${baseUrl}/listByParentId/${id}`,\n      method: 'get'\n  })\n}\n\ncategoryApi.list = () => {\n  return service({\n      url: baseUrl,\n      method: 'get'\n  })\n}\ncategoryApi.listVoTree = () => {\n  return service({\n      url: `${baseUrl}/listVoTree`,\n      method: 'get'\n  })\n}\n\n\ncategoryApi.updateAll = (params) => {\n  return service({\n      url: `${baseUrl}/updateAll`,\n      params: params,\n      method: 'get'\n  })\n}\ncategoryApi.add = data=>{\n  return service({\n    url:baseUrl,\n    method:'post',\n    data:data\n  })\n}\n\n\ncategoryApi.updatePos = data=>{\n  return service({\n    url:`${baseUrl}/updatePos`,\n    method:'post',\n    data:data\n  })\n}\n\ncategoryApi.update = (id,data)=>{\n  return service({\n    url:`${baseUrl}/update/${id}`,\n    method:'post',\n    data:data\n  })\n}\ncategoryApi.findById=id=>{\n  return service({\n    url:`${baseUrl}/find/${id}`,\n    method:'get'\n  })\n}\n\ncategoryApi.pageBy=categoryEnName=>{\n  return service({\n    url:`${baseUrl}/template/${categoryEnName}`,\n    method:'get'\n  })\n}\n\ncategoryApi.recommendOrCancel=id=>{\n  return service({\n    url:`${baseUrl}/recommendOrCancel/${id}`,\n    method:'get'\n  })\n}\ncategoryApi.addOrRemoveToMenu=id=>{\n  return service({\n    url:`${baseUrl}/addOrRemoveToMenu/${id}`,\n    method:'get'\n  })\n}\ncategoryApi.haveHtml=id=>{\n  return service({\n    url:`${baseUrl}/haveHtml/${id}`,\n    method:'get'\n  })\n}\n\n\ncategoryApi.deleteById=id=>{\n  return service({\n    url:`${baseUrl}/delete/${id}`,\n    method:'get'\n  })\n}\n\ncategoryApi.findByCategoryDetail=id=>{\n  return service({\n    url:`${baseUrl}/find/categoryDetail/${id}`,\n    method:'get'\n  })\n}\n\ncategoryApi.generateHtml=(id) => {\n  return service({\n      url: `${baseUrl}/generateHtml/${id}`,\n      method: 'get'\n  })\n}\n\nfunction concreteTree(parentCategory, categories) {\n    categories.forEach(category => {\n      if (parentCategory.key === category.parentId) {\n        if (!parentCategory.children) {\n          parentCategory.children = []\n        }\n        parentCategory.children.push({\n          key: category.id,\n          title: category.name,\n          isLeaf: false,\n          scopedSlots: { title: \"custom\" },\n\n        })\n      }\n    })\n  \n    if (parentCategory.children) {\n      parentCategory.children.forEach(category => concreteTree(category, categories))\n    } else {\n      parentCategory.isLeaf = true\n    }\n  }\n  \n  categoryApi.concreteTree = categories => {\n    const topCategoryNode = {\n      key: 0,\n      title: 'top',\n      children: []\n    }\n    concreteTree(topCategoryNode, categories)\n    return topCategoryNode.children\n  }\n  export default categoryApi","import service from '@/utils/service'\nimport Golbal from '@/api/global_variable.js'\nconst baseUrl = '/api/template'\n\nconst templateApi = {}\n\ntemplateApi.update = (id,templatePageParam) => {\n    return service({\n        url: `${baseUrl}/update/${id}`,\n        data: templatePageParam,\n        method: 'post'\n    })\n}\ntemplateApi.findDetailsById = (id) => {\n    return service({\n        url: `${baseUrl}/findDetailsById/${id}`,\n        method: 'get'\n    })\n}\n\ntemplateApi.findByType = (type) => {\n    return service({\n        url: `${baseUrl}/find/${type}`,\n        method: 'get'\n    })\n}\n\ntemplateApi.tree = id => {\n    return service({\n        url: `${baseUrl}/tree/${id}`,\n        method: 'get'\n    })\n}\n\ntemplateApi.deleteById = id => {\n    return service({\n        url: `${baseUrl}/delete/${id}`,\n        method: 'get'\n    })\n}\n\n\ntemplateApi.list =(params)=>{\n    return service({\n        url:baseUrl,\n        params:params,\n        method:'get'\n    })\n}\ntemplateApi.add = (params) => {\n    return service({\n        url: baseUrl,\n        data: params,\n        method: 'post'\n    })\n}\ntemplateApi.upload=()=>{\n    return `http://${Golbal.baseUrl}:${Golbal.port}/api/template/upload`\n  }\n\nexport default templateApi"],"sourceRoot":""}