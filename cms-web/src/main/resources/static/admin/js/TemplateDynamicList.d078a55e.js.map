{"version":3,"sources":["webpack:///./src/api/template.js","webpack:///./src/views/template/TemplateDynamicList.vue?8e74","webpack:///src/views/template/TemplateDynamicList.vue","webpack:///./src/views/template/TemplateDynamicList.vue?74a9","webpack:///./src/views/template/TemplateDynamicList.vue"],"names":["baseUrl","templateApi","id","templatePageParam","service","url","data","method","type","params","render","_vm","this","_h","$createElement","_c","_self","attrs","columns","template","scopedSlots","_u","key","fn","status","record","on","$event","onChangeStatus","model","value","callback","$$v","$set","expression","edit","_v","handleShowPostSettings","staticClass","style","textAlign","pagination","page","total","size","handlePaginationChange","staticRenderFns","sort","queryParam","keyword","categoryId","article","created","loadTemplate","methods","pageSize","message","resp","$router","push","name","query","component"],"mappings":"qHAAA,gBACMA,EAAU,gBAEVC,EAAc,CAEpBA,OAAqB,SAACC,EAAGC,GACrB,OAAOC,eAAQ,CACXC,IAAK,GAAF,OAAKL,EAAL,mBAAuBE,GAC1BI,KAAMH,EACNI,OAAQ,UAGhBN,gBAA8B,SAACC,GAC3B,OAAOE,eAAQ,CACXC,IAAK,GAAF,OAAKL,EAAL,4BAAgCE,GACnCK,OAAQ,SAIhBN,WAAyB,SAACO,GACtB,OAAOJ,eAAQ,CACXC,IAAK,GAAF,OAAKL,EAAL,iBAAqBQ,GACxBD,OAAQ,SAIhBN,UAAwB,SAAAC,GACpB,OAAOE,eAAQ,CACXC,IAAK,GAAF,OAAKL,EAAL,sBAA0BE,GAC7BK,OAAQ,SAIhBN,KAAkB,SAACQ,GACf,OAAOL,eAAQ,CACXC,IAAIL,EACJS,OAAOA,EACPF,OAAO,SAGfN,OAAqB,SAACQ,GAClB,OAAOL,eAAQ,CACXC,IAAKL,EACLM,KAAMG,EACNF,OAAQ,WAKDN,U,yCCjDf,IAAIS,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,UAAU,CAACE,MAAM,CAAC,QAAUN,EAAIO,QAAQ,WAAaP,EAAIQ,SAAS,YAAa,EAAM,OAAS,SAAUA,GAAY,OAAOA,EAASjB,KAAOkB,YAAYT,EAAIU,GAAG,CAAC,CAACC,IAAI,SAASC,GAAG,SAASC,EAAOC,GAAQ,OAAOV,EAAG,MAAM,GAAG,CAACA,EAAG,WAAW,CAACE,MAAM,CAAC,eAAiB,IAAIS,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOhB,EAAIiB,eAAeH,EAAOvB,MAAM2B,MAAM,CAACC,MAAOL,EAAa,OAAEM,SAAS,SAAUC,GAAMrB,EAAIsB,KAAKR,EAAQ,SAAUO,IAAME,WAAW,oBAAoB,KAAK,CAACZ,IAAI,SAASC,GAAG,SAASE,GAAQ,OAAOV,EAAG,OAAO,GAAG,CAACA,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,gBAAgBS,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOhB,EAAIwB,KAAKV,EAAOvB,OAAO,CAACS,EAAIyB,GAAG,QAAQrB,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,cAAcF,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,gBAAgBS,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOhB,EAAI0B,uBAAuBZ,MAAW,CAACd,EAAIyB,GAAG,SAAS,SAASrB,EAAG,MAAM,CAACuB,YAAY,eAAeC,MAAM,CAAGC,UAAW,UAAW,CAACzB,EAAG,eAAe,CAACuB,YAAY,aAAarB,MAAM,CAAC,QAAUN,EAAI8B,WAAWC,KAAK,MAAQ/B,EAAI8B,WAAWE,MAAM,gBAAkBhC,EAAI8B,WAAWG,KAAK,gBAAkB,CAAC,IAAK,IAAK,IAAK,KAAM,KAAM,KAAM,OAAO,gBAAkB,IAAIlB,GAAG,CAAC,eAAiBf,EAAIkC,uBAAuB,OAASlC,EAAIkC,2BAA2B,IAAI,IACpxCC,EAAkB,G,YCkCtB,GACA,CACE,MAAF,OACE,UAAF,OACE,IAAF,QAIA,CACE,MAAF,OACE,IAAF,SACE,UAAF,UAEA,CACE,MAAF,OACE,UAAF,eACE,IAAF,gBAEA,CACE,MAAF,OACE,UAAF,gBACE,IAAF,iBAEA,CACE,MAAF,UACE,UAAF,SACE,IAAF,SACE,YAAF,CAAI,aAAJ,WAEA,CACE,MAAF,OACE,UAAF,aACE,IAAF,cAEA,CACE,MAAF,SACE,IAAF,SACE,YAAF,CAAI,aAAJ,YAMA,GACExC,KADF,WAEI,MAAO,CACLmC,WAAY,CACVC,KAAM,EACNE,KAAM,EACNG,KAAM,MAERC,WAAY,CACVN,KAAM,EACNE,KAAM,GACNG,KAAM,KACNE,QAAS,KACTC,WAAY,KACZ1B,OAAQ,MAEVN,QAAN,EACMiC,QAAS,GACThC,SAAU,KAGdiC,QArBF,WAsBIxC,KAAKyC,gBAEPC,QAAS,CACPD,aADJ,WACA,WACMzC,KAAKoC,WAAWN,KAAO9B,KAAK6B,WAAWC,KAAO,EAC9C9B,KAAKoC,WAAWJ,KAAOhC,KAAK6B,WAAWG,KACvChC,KAAKoC,WAAWD,KAAOnC,KAAK6B,WAAWM,KACvC,EAAN,6CACQ,EAAR,6BACQ,EAAR,+CAIIF,uBAXJ,SAWA,KAGMjC,KAAK6B,WAAWC,KAAOA,EACvB9B,KAAK6B,WAAWG,KAAOW,EACvB3C,KAAKyC,gBACP,eAjBJ,SAiBA,cAEM,EAAN,oCACQ,EAAR,0BACUG,QAAS,KAAOC,EAAKnD,KAAKkD,cAGhC,KAxBJ,SAwBA,GACM5C,KAAK8C,QAAQC,KAAK,CAChBC,KAAM,iBACNC,MAAO,CAAf,WCjI4W,I,YCOxWC,EAAY,eACd,EACApD,EACAoC,GACA,EACA,KACA,KACA,MAIa,aAAAgB,E","file":"js/TemplateDynamicList.d078a55e.js","sourcesContent":["import service from '@/utils/service'\nconst baseUrl = '/api/template'\n\nconst templateApi = {}\n\ntemplateApi.update = (id,templatePageParam) => {\n    return service({\n        url: `${baseUrl}/update/${id}`,\n        data: templatePageParam,\n        method: 'post'\n    })\n}\ntemplateApi.findDetailsById = (id) => {\n    return service({\n        url: `${baseUrl}/findDetailsById/${id}`,\n        method: 'get'\n    })\n}\n\ntemplateApi.findByType = (type) => {\n    return service({\n        url: `${baseUrl}/find/${type}`,\n        method: 'get'\n    })\n}\n\ntemplateApi.setStatus = id => {\n    return service({\n        url: `${baseUrl}/setStatus/${id}`,\n        method: 'get'\n    })\n}\n\ntemplateApi.list =(params)=>{\n    return service({\n        url:baseUrl,\n        params:params,\n        method:'get'\n    })\n}\ntemplateApi.create = (params) => {\n    return service({\n        url: baseUrl,\n        data: params,\n        method: 'post'\n    })\n}\n\n\nexport default templateApi","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a-table',{attrs:{\"columns\":_vm.columns,\"dataSource\":_vm.template,\"pagination\":false,\"rowKey\":function (template) { return template.id; }},scopedSlots:_vm._u([{key:\"status\",fn:function(status,record){return _c('div',{},[_c('a-switch',{attrs:{\"defaultChecked\":\"\"},on:{\"change\":function($event){return _vm.onChangeStatus(record.id)}},model:{value:(record.status),callback:function ($$v) {_vm.$set(record, \"status\", $$v)},expression:\"record.status\"}})],1)}},{key:\"action\",fn:function(record){return _c('span',{},[_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.edit(record.id)}}},[_vm._v(\"编辑\")]),_c('a-divider',{attrs:{\"type\":\"vertical\"}}),_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.handleShowPostSettings(record)}}},[_vm._v(\"设置\")])],1)}}])}),_c('div',{staticClass:\"page-wrapper\",style:({ textAlign: 'right'})},[_c('a-pagination',{staticClass:\"pagination\",attrs:{\"current\":_vm.pagination.page,\"total\":_vm.pagination.total,\"defaultPageSize\":_vm.pagination.size,\"pageSizeOptions\":['1', '2', '5', '10', '20', '50', '100'],\"showSizeChanger\":\"\"},on:{\"showSizeChange\":_vm.handlePaginationChange,\"change\":_vm.handlePaginationChange}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <a-table\n      :columns=\"columns\"\n      :dataSource=\"template\"\n      :pagination=\"false\"\n      :rowKey=\"template => template.id\"\n    >\n\n    <div slot=\"status\" slot-scope=\"status,record\">\n        <a-switch defaultChecked @change=\"onChangeStatus(record.id)\" v-model=\"record.status\" />\n      </div>\n\n\n      <span slot=\"action\" slot-scope=\"record\">\n        <a href=\"javascript:;\" @click=\"edit(record.id)\">编辑</a>\n        <a-divider type=\"vertical\" />\n        <a href=\"javascript:;\" @click=\"handleShowPostSettings(record)\">设置</a>\n      </span>\n    </a-table>\n    <div class=\"page-wrapper\" :style=\"{ textAlign: 'right'}\">\n      <a-pagination\n        class=\"pagination\"\n        :current=\"pagination.page\"\n        :total=\"pagination.total\"\n        :defaultPageSize=\"pagination.size\"\n        :pageSizeOptions=\"['1', '2', '5', '10', '20', '50', '100']\"\n        showSizeChanger\n        @showSizeChange=\"handlePaginationChange\"\n        @change=\"handlePaginationChange\"\n      />\n    </div>\n  </div>\n</template>\n<script>\nconst columns = [\n  {\n    title: \"模板名称\",\n    dataIndex: \"name\",\n    key: \"name\"\n  },\n  \n\n  {\n    title: \"英文名称\",\n    key: \"enName\",\n    dataIndex: \"enName\"\n  },\n  {\n    title: \"模板类型\",\n    dataIndex: \"templateType\",\n    key: \"templateType\"\n  },\n {\n    title: \"视图路径\",\n    dataIndex: \"templateValue\",\n    key: \"templateValue\"\n  },\n {\n    title: \"是否展示在主页\",\n    dataIndex: \"status\",\n    key: \"status\",\n    scopedSlots: { customRender: \"status\" }\n  },\n  {\n    title: \"创建时间\",\n    dataIndex: \"createDate\",\n    key: \"createDate\"\n  },\n  {\n    title: \"Action\",\n    key: \"action\",\n    scopedSlots: { customRender: \"action\" }\n  }\n];\n\n\nimport TemplateApi from \"@/api/template.js\";\nexport default {\n  data() {\n    return {\n      pagination: {\n        page: 1,\n        size: 5,\n        sort: null\n      },\n      queryParam: {\n        page: 0,\n        size: 10,\n        sort: null,\n        keyword: null,\n        categoryId: null,\n        status: null\n      },\n      columns,\n      article: [],\n      template: []\n    };\n  },\n  created() {\n    this.loadTemplate();\n  },\n  methods: {\n    loadTemplate() {\n      this.queryParam.page = this.pagination.page - 1;\n      this.queryParam.size = this.pagination.size;\n      this.queryParam.sort = this.pagination.sort;\n      TemplateApi.list(this.queryParam).then(response => {\n        this.template = response.data.data.content;\n        this.pagination.total = response.data.data.totalElements\n        // console.log(response);\n      });\n    },\n    handlePaginationChange(page, pageSize) {\n      // console.log(\"111\")\n      // this.$log.debug(`Current: ${page}, PageSize: ${pageSize}`)\n      this.pagination.page = page;\n      this.pagination.size = pageSize;\n      this.loadTemplate();\n    },onChangeStatus(id){\n      // console.log(id)\n      TemplateApi.setStatus(id).then(resp=>{\n         this.$notification[\"success\"]({\n          message: \"操作\" + resp.data.message\n        });\n      })\n    },edit(id) {\n      this.$router.push({\n        name: \"TemplateCreate\",\n        query: { id: id }\n      });\n      // templatePageApi.findDetailsById(id).then(resp => {\n      //   console.log(resp);\n      // });\n    },\n    // handleEditClick(template) {\n    //   console.log(template);\n    // },\n    // handleShowPostSettings(template) {\n    //   console.log(template);\n    // }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TemplateDynamicList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TemplateDynamicList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TemplateDynamicList.vue?vue&type=template&id=225c7941&\"\nimport script from \"./TemplateDynamicList.vue?vue&type=script&lang=js&\"\nexport * from \"./TemplateDynamicList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}