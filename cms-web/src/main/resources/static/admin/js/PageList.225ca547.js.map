{"version":3,"sources":["webpack:///./src/views/page/list.vue?ef86","webpack:///src/views/page/list.vue","webpack:///./src/views/page/list.vue?c328","webpack:///./src/views/page/list.vue","webpack:///./src/api/sheet.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","columns","data","id","scopedSlots","_u","key","fn","existNav","record","on","$event","onChangeNav","model","value","callback","$$v","$set","expression","text","edit","_v","generateHtml","deleteById","preview","openHtml","slot","staticClass","style","textAlign","pagination","page","total","size","handlePaginationChange","staticRenderFns","sort","queryParam","keyword","categoryId","status","created","loadSheet","methods","sheet","pageSize","$router","push","name","query","message","response","title","window","open","path","url","component","baseUrl","sheetApi","param","service","params","method","sheetId"],"mappings":"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","file":"js/PageList.225ca547.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a-table',{attrs:{\"pagination\":false,\"columns\":_vm.columns,\"dataSource\":_vm.data,\"rowKey\":function (data) { return data.id; }},scopedSlots:_vm._u([{key:\"existNav\",fn:function(existNav,record){return _c('div',{},[_c('a-switch',{attrs:{\"defaultChecked\":\"\"},on:{\"change\":function($event){return _vm.onChangeNav(record.id)}},model:{value:(record.existNav),callback:function ($$v) {_vm.$set(record, \"existNav\", $$v)},expression:\"record.existNav\"}})],1)}},{key:\"action\",fn:function(text, record){return _c('span',{},[_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.edit(record.id)}}},[_vm._v(\"编辑\")]),_c('a-divider',{attrs:{\"type\":\"vertical\"}}),_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.generateHtml(record.id)}}},[_vm._v(\"生成HTML\")]),_c('a-divider',{attrs:{\"type\":\"vertical\"}}),_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.deleteById(record.id)}}},[_vm._v(\"删除\")]),_c('a-divider',{attrs:{\"type\":\"vertical\"}}),_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.preview(record.id)}}},[_vm._v(\"预览\")]),_c('a-divider',{attrs:{\"type\":\"vertical\"}}),_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.openHtml(record)}}},[_vm._v(\"查看HTML\")])],1)}}])},[_c('template',{slot:\"footer\"},[_c('div',{staticClass:\"page-wrapper\",style:({ textAlign: 'right'})},[_c('a-pagination',{staticClass:\"pagination\",attrs:{\"current\":_vm.pagination.page,\"total\":_vm.pagination.total,\"defaultPageSize\":_vm.pagination.size,\"pageSizeOptions\":['1', '2', '5', '10', '20', '50', '100'],\"showSizeChanger\":\"\"},on:{\"showSizeChange\":_vm.handlePaginationChange,\"change\":_vm.handlePaginationChange}})],1)])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <a-table :pagination=\"false\" :columns=\"columns\" :dataSource=\"data\" :rowKey=\"data => data.id\">\n      <div slot=\"existNav\" slot-scope=\"existNav,record\">\n        <a-switch defaultChecked @change=\"onChangeNav(record.id)\" v-model=\"record.existNav\" />\n      </div>\n\n      <span slot=\"action\" slot-scope=\"text, record\">\n        <a href=\"javascript:;\" @click=\"edit(record.id)\">编辑</a>\n        <a-divider type=\"vertical\" />\n        <a href=\"javascript:;\" @click=\"generateHtml(record.id)\">生成HTML</a>\n        <a-divider type=\"vertical\" />\n        <a href=\"javascript:;\" @click=\"deleteById(record.id)\">删除</a>\n        <a-divider type=\"vertical\" />\n        <a href=\"javascript:;\" @click=\"preview(record.id)\">预览</a>\n        <a-divider type=\"vertical\" />\n        <a href=\"javascript:;\" @click=\"openHtml(record)\">查看HTML</a>\n      </span>\n\n      <template slot=\"footer\">\n        <div class=\"page-wrapper\" :style=\"{ textAlign: 'right'}\">\n          <a-pagination\n            class=\"pagination\"\n            :current=\"pagination.page\"\n            :total=\"pagination.total\"\n            :defaultPageSize=\"pagination.size\"\n            :pageSizeOptions=\"['1', '2', '5', '10', '20', '50', '100']\"\n            showSizeChanger\n            @showSizeChange=\"handlePaginationChange\"\n            @change=\"handlePaginationChange\"\n          />\n        </div>\n      </template>\n    </a-table>\n  </div>\n</template>\n\n<script>\nimport sheetApi from \"@/api/sheet.js\";\nimport preview from \"@/api/preview.js\";\nconst columns = [\n  { title: \"Title\", dataIndex: \"title\", key: \"title\" },\n  {\n    title: \"页面的名称\",\n    dataIndex: \"viewName\",\n    key: \"viewName\"\n  },\n  {\n    title: \"创建时间\",\n    dataIndex: \"createDate\",\n    key: \"createDate\"\n  },\n  {\n    title: \"是否添加到导航\",\n    dataIndex: \"existNav\",\n    key: \"existNav\",\n    scopedSlots: { customRender: \"existNav\" }\n  },\n\n  {\n    title: \"Action\",\n    key: \"action\",\n    scopedSlots: { customRender: \"action\" }\n  }\n];\nexport default {\n  data() {\n    return {\n      pagination: {\n        page: 0,\n        size: 5,\n        sort: null\n      },\n      queryParam: {\n        page: 0,\n        size: 10,\n        sort: null,\n        keyword: null,\n        categoryId: null,\n        status: null\n      },\n      data: [],\n      columns\n    };\n  },\n  created() {\n    this.loadSheet();\n  },\n  methods: {\n    loadSheet() {\n      this.queryParam.page = this.pagination.page - 1;\n      this.queryParam.size = this.pagination.size;\n      this.queryParam.sort = this.pagination.sort;\n      sheetApi.list(this.queryParam).then(response => {\n        this.data = response.data.data.content;\n        this.pagination.total = response.data.data.totalElements;\n        // console.log(response);\n      });\n    },\n    handlePaginationChange(page, pageSize) {\n      // console.log(\"111\")\n      // this.$log.debug(`Current: ${page}, PageSize: ${pageSize}`)\n      this.pagination.page = page;\n      this.pagination.size = pageSize;\n      this.loadSheet();\n    },\n    edit(value) {\n      this.$router.push({\n        name: \"PageCreate\",\n        query: { sheetId: value }\n      });\n    },\n    deleteById(value) {\n      sheetApi.deleteById(value).then(response => {\n        //  console.log(response);\n        this.$notification[\"success\"]({\n          message: response.data.message\n        });\n        this.loadSheet();\n      });\n    },\n    onChangeNav(id) {\n      // console.log(id);\n      sheetApi.addOrRemoveToMenu(id).then(response => {\n         if (response.data.data.existNav) {\n          this.$notification[\"success\"]({\n            message: \"成功添加\" + response.data.data.title + \"到导航!!\"\n          });\n        } else {\n          this.$notification[\"success\"]({\n            message: \"成功移除\" + response.data.data.title + \"到导航!!\"\n          });\n        }\n      });\n    },\n    preview(value) {\n      // console.log(value);\n      window.open(preview.Online(\"sheet\", value), \"_blank\");\n    },\n    openHtml(value) {\n      let url = value.viewName;\n      if (value.path) {\n        url = value.path + \"/\" + url;\n      }\n      window.open(preview.Html(url), \"_blank\");\n    },\n    generateHtml(id) {\n      sheetApi.generateHtml(id).then(response => {\n        this.$notification[\"success\"]({\n          message: \"页面生成成功!!\" + response.data.message\n        });\n        // console.log(response);\n      });\n    }\n  }\n};\n</script>\n\n<style>\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=357619c9&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import service from '@/utils/service'\nconst baseUrl = '/api/sheet'\n\nconst sheetApi = {}\n\nsheetApi.list=(param)=>{\n    return service({\n        url:baseUrl,\n        params: param,\n        method:\"get\"\n    })\n}\nsheetApi.addOrRemoveToMenu=id=>{\n    return service({\n      url:`${baseUrl}/addOrRemoveToMenu/${id}`,\n      method:'get'\n    })\n  }\n\nsheetApi.findListByChannelId =id => {\n    return service({\n        url: `${baseUrl}/findListByChannelId/${id}`,\n        method: 'get'\n    })\n  }\nsheetApi.deleteById=(id) => {\n    return service({\n        url: `${baseUrl}/delete/${id}`,\n        method: 'get'\n    })\n}\n\nsheetApi.generateHtml=(id) => {\n    return service({\n        url: `${baseUrl}/generate/${id}`,\n        method: 'get'\n    })\n}\nsheetApi.query = (params) => {\n    return service({\n        url: baseUrl,\n        params: params,\n        method: 'get'\n    })\n}\nsheetApi.findById = (sheetId) => {\n    return service({\n        url: `${baseUrl}/find/${sheetId}`,\n        method: 'get'\n    })\n}\nsheetApi.create = (params) => {\n    return service({\n        url: baseUrl,\n        data: params,\n        method: 'post'\n    })\n}\n\nsheetApi.saveSheet = (params) => {\n    return service({\n        url: `${baseUrl}/save`,\n        data: params,\n        method: 'post'\n    })\n}\nsheetApi.modifySheet = (id,params) => {\n    return service({\n        url: `${baseUrl}/save/${id}`,\n        data: params,\n        method: 'post'\n    })\n}\n\nsheetApi.update = (id,params) => {\n    return service({\n        url: `${baseUrl}/update/${id}`,\n        data: params,\n        method: 'post'\n    })\n}\nexport default sheetApi"],"sourceRoot":""}